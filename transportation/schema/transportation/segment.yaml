---
"$schema": https://json-schema.org/draft/2020-12/schema
title: Overture Maps Transportation Segment Schema
description: Additive schema for transportation segments
type: object
properties:
  geometry:
    unevaluatedProperties: false
    allOf:
      - "$ref": https://geojson.org/schema/LineString.json
  properties:
    unevaluatedProperties: false
    required: [subType]
    allOf:
      - "$ref": ../defs.yaml#/$defs/propertyContainers/overtureFeaturePropertiesContainer
      - "$ref": ../defs.yaml#/$defs/propertyContainers/levelContainer
      - allOf:
          - if: { properties: { subType: { enum: [road] } } }
            then:
              properties:
                road: { "$ref": "#/$defs/types/road" }
    properties:
      subType:
        description: Broad category of transportation segment.
        type: string
        enum: [road, rail, water]
        "$comment": >-
          Should not be confused with a transport mode. A segment
          kind has an (implied) set of default transport modes.
"$defs":
  types:
    road:
      description: >-
        Properties for segments whose segment subType is road. The road
        subType includes any variety of road, street, or path, including
        dedicated paths for walking and cycling.
      type: object
      unevaluatedProperties: false
      default: {}
      properties:
        class:
          description: >-
            Captures the kind of road and its position in the road
            network hierarchy.
          type: string
          enum:
            - unknown
            - primary
            - secondary
            - tertiary
            - residential
            - parkingAisle
            - driveway
            - footway
            - cycleway
          default:
            enum: [ unknown ]
        surface:
          description: Physical surface of the road
          type: string
          enum:
            - unknown
            - paved
            - unpaved
            - gravel
            - dirt
            - pavingStones
            - metal
          default:
            enum: [unknown]
          "$comment": >-
            We should likely restrict the available surface types to
            the subset of the common OSM surface=* tag values that are
            useful both for routing and for map tile rendering.
        flags:
          description: Set of boolean attributes applicable to roads
          type: array
          items:
            type: string
            enum:
              - isLink
              - isTunnel
              - isPrivate
              - isTolled
          uniqueItems: true
          default: []
